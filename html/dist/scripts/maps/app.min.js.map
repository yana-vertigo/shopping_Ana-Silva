{"version":3,"sources":["main.js"],"names":["Starter","options","this","_","extend","debug","prototype","log","what","console","exists","el","$","length","init","updateBag","setupEvents","$bagContainer","$shoppingBag","finalPrice","totalItems","children","attr","find","text","append","data","remove","each","getItemPrice","itemPrice","substring","parseFloat","split","on","addToBasket","$listContainer","$this","$thisProduct","parent","hasClass","removeClass","appendTo","addClass","starter","jQuery"],"mappings":"AAAA,GAAAA,QAEAA,SAAA,WACA,QAAAA,GAAAC,GACA,MAAAA,IACAA,MAEAC,KAAAD,QAAAE,EAAAC,QACAC,OAAA,GACAJ,GAgEA,MA7DAD,GAAAM,UAAAC,IAAA,SAAAC,GACA,MAAAN,MAAAD,QAAAI,SAAA,EACAI,QAAAF,IAAAC,GAEAC,QAAAF,IAAA,uBAIAP,EAAAM,UAAAI,OAAA,SAAAC,GACA,MAAAC,GAAAD,GAAAE,OAAA,GAGAb,EAAAM,UAAAQ,KAAA,WACAd,EAAAe,YACAb,KAAAc,eAGAhB,EAAAe,UAAA,WACA,GAAAE,GAAAC,EAAAC,EAAAC,CACAF,GAAAN,EAAA,iBACAK,EAAAL,EAAA,QACAQ,EAAAH,EAAAI,SAAA,YAAAR,OACAK,EAAAI,KAAA,gBAAAF,GACAF,EAAAK,KAAA,kCAAAC,KAAAJ,GACA,IAAAA,EACAH,EAAAQ,OAAA,sBAAAR,EAAAS,KAAA,SAAA,QAEAT,EAAAI,SAAA,KAAAM,SAEAR,EAAA,EACAF,EAAAM,KAAA,+BAAAK,KAAA,WACA,GAAAC,GAAAC,CAGA,OAFAD,GAAAjB,EAAAV,MAAAsB,OAAAO,UAAA,GACAD,EAAAE,WAAAH,EAAAI,MAAA,KAAA,IACAd,GAAAW,IAEArB,QAAAF,IAAA,aAAAY,GACAD,EAAAI,KAAA,aAAAH,GACAD,EAAAK,KAAA,oCAAAC,KAAA,KAAAL,IAGAnB,EAAAM,UAAAU,YAAA,WACAJ,EAAA,eAAAsB,GAAA,QAAAhC,KAAAiC,cAGAnC,EAAAM,UAAA6B,YAAA,WACA,GAAAlB,GAAAmB,EAAAC,EAAAC,CACAD,GAAAzB,EAAAV,MACAoC,EAAAD,EAAAE,SACAtB,EAAAL,EAAA,QACAwB,EAAAxB,EAAA,SACAA,EAAAV,MAAAsC,SAAA,eAIA5B,EAAAV,MAAAuC,YAAA,cAAAjB,KAAAa,EAAAX,KAAA,QACAY,EAAAI,SAAAN,KAJAxB,EAAAV,MAAAyC,SAAA,cAAAnB,KAAAa,EAAAX,KAAA,WACAY,EAAAI,SAAAzB,IAKAjB,EAAAe,aAGAf,KAIA,SAAAY,GACA,YACA,OAAAA,GAAA,WACA,GAAAgC,EAEA,OADAA,GAAA,GAAA5C,SACA4C,EAAA9B,UAEA+B","file":"../app.min.js","sourcesContent":["var Starter;\n\nStarter = (function() {\n  function Starter(options) {\n    if (options == null) {\n      options = {};\n    }\n    this.options = _.extend({\n      debug: true\n    }, options);\n  }\n\n  Starter.prototype.log = function(what) {\n    if (this.options.debug === true) {\n      return console.log(what);\n    } else {\n      return console.log('Debug mode is off!');\n    }\n  };\n\n  Starter.prototype.exists = function(el) {\n    return $(el).length > 0;\n  };\n\n  Starter.prototype.init = function() {\n    Starter.updateBag();\n    this.setupEvents();\n  };\n\n  Starter.updateBag = function() {\n    var $bagContainer, $shoppingBag, finalPrice, totalItems;\n    $shoppingBag = $('#shopping-bag');\n    $bagContainer = $('#bag');\n    totalItems = $bagContainer.children('.product').length;\n    $shoppingBag.attr('data-quantity', totalItems);\n    $shoppingBag.find('.shopping-bag__quantity strong').text(totalItems);\n    if (totalItems === 0) {\n      $bagContainer.append('<p class=\"message\">' + $bagContainer.data('empty') + '</p>');\n    } else {\n      $bagContainer.children('p').remove();\n    }\n    finalPrice = 0;\n    $bagContainer.find('.product-info__price strong').each(function() {\n      var getItemPrice, itemPrice;\n      getItemPrice = $(this).text().substring(1);\n      itemPrice = parseFloat(getItemPrice.split(','), 10);\n      return finalPrice += itemPrice;\n    });\n    console.log('finalPrice', finalPrice);\n    $shoppingBag.attr('data-price', finalPrice);\n    $shoppingBag.find('.shopping-bag__totalprice strong').text('Â£ ' + finalPrice);\n  };\n\n  Starter.prototype.setupEvents = function() {\n    $('.button-bag').on('click', this.addToBasket);\n  };\n\n  Starter.prototype.addToBasket = function() {\n    var $bagContainer, $listContainer, $this, $thisProduct;\n    $this = $(this);\n    $thisProduct = $this.parent();\n    $bagContainer = $('#bag');\n    $listContainer = $('#list');\n    if (!$(this).hasClass('add-basket')) {\n      $(this).addClass('add-basket').text($this.data('remove'));\n      $thisProduct.appendTo($bagContainer);\n    } else {\n      $(this).removeClass('add-basket').text($this.data('add'));\n      $thisProduct.appendTo($listContainer);\n    }\n    Starter.updateBag();\n  };\n\n  return Starter;\n\n})();\n\n(function($) {\n  'use strict';\n  return $(function() {\n    var starter;\n    starter = new Starter();\n    return starter.init();\n  });\n})(jQuery);\n"]}