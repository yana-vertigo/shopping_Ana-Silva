{"version":3,"sources":["main.js"],"names":["Starter","options","this","_","extend","debug","prototype","log","what","console","exists","el","$","length","init","updateBag","setupLayout","setupEvents","$bagContainer","$shoppingBag","finalPrice","totalItems","children","attr","find","text","each","getItemPrice","itemPrice","substring","parseFloat","split","on","addToBasket","$listContainer","$this","$thisProduct","parent","append","data","remove","hasClass","removeClass","appendTo","addClass","starter","jQuery"],"mappings":"AAAA,GAAAA,QAEAA,SAAA,WACA,QAAAA,GAAAC,GACA,MAAAA,IACAA,MAEAC,KAAAD,QAAAE,EAAAC,QACAC,OAAA,GACAJ,GAqEA,MAlEAD,GAAAM,UAAAC,IAAA,SAAAC,GACA,MAAAN,MAAAD,QAAAI,SAAA,EACAI,QAAAF,IAAAC,GAEAC,QAAAF,IAAA,uBAIAP,EAAAM,UAAAI,OAAA,SAAAC,GACA,MAAAC,GAAAD,GAAAE,OAAA,GAGAb,EAAAM,UAAAQ,KAAA,WACAd,EAAAe,YACAb,KAAAc,cACAd,KAAAe,eAGAjB,EAAAe,UAAA,WACA,GAAAG,GAAAC,EAAAC,EAAAC,CACAF,GAAAP,EAAA,iBACAM,EAAAN,EAAA,QACAS,EAAAH,EAAAI,SAAA,YAAAT,OACAM,EAAAI,KAAA,gBAAAF,GACAF,EAAAK,KAAA,kCAAAC,KAAAJ,GACAD,EAAA,EACAF,EAAAM,KAAA,+BAAAE,KAAA,WACA,GAAAC,GAAAC,CAGA,OAFAD,GAAAf,EAAAV,MAAAuB,OAAAI,UAAA,GACAD,EAAAE,WAAAH,EAAAI,MAAA,KAAA,IACAX,GAAAQ,IAEAnB,QAAAF,IAAA,aAAAa,GACAD,EAAAI,KAAA,aAAAH,GACAD,EAAAK,KAAA,oCAAAC,KAAA,KAAAL,IAGApB,EAAAM,UAAAU,YAAA,WACAP,QAAAF,IAAA,gBAGAP,EAAAM,UAAAW,YAAA,WACAL,EAAA,eAAAoB,GAAA,QAAA9B,KAAA+B,cAGAjC,EAAAM,UAAA2B,YAAA,WACA,GAAAf,GAAAgB,EAAAC,EAAAC,CACAD,GAAAvB,EAAAV,MACAkC,EAAAD,EAAAE,SACAnB,EAAAN,EAAA,QACAsB,EAAAtB,EAAA,SACAA,EAAA,iBAAAC,OAAA,IAAA,EACAK,EAAAoB,OAAA,sBAAApB,EAAAqB,KAAA,SAAA,QAEArB,EAAAI,SAAA,KAAAkB,SAEA5B,EAAAV,MAAAuC,SAAA,eAIA7B,EAAAV,MAAAwC,YAAA,cAAAjB,KAAAU,EAAAI,KAAA,QACAH,EAAAO,SAAAT,KAJAtB,EAAAV,MAAA0C,SAAA,cAAAnB,KAAAU,EAAAI,KAAA,WACAH,EAAAO,SAAAzB,IAKAlB,EAAAe,aAGAf,KAIA,SAAAY,GACA,YACA,OAAAA,GAAA,WACA,GAAAiC,EAEA,OADAA,GAAA,GAAA7C,SACA6C,EAAA/B,UAEAgC","file":"../app.min.js","sourcesContent":["var Starter;\n\nStarter = (function() {\n  function Starter(options) {\n    if (options == null) {\n      options = {};\n    }\n    this.options = _.extend({\n      debug: true\n    }, options);\n  }\n\n  Starter.prototype.log = function(what) {\n    if (this.options.debug === true) {\n      return console.log(what);\n    } else {\n      return console.log('Debug mode is off!');\n    }\n  };\n\n  Starter.prototype.exists = function(el) {\n    return $(el).length > 0;\n  };\n\n  Starter.prototype.init = function() {\n    Starter.updateBag();\n    this.setupLayout();\n    this.setupEvents();\n  };\n\n  Starter.updateBag = function() {\n    var $bagContainer, $shoppingBag, finalPrice, totalItems;\n    $shoppingBag = $('#shopping-bag');\n    $bagContainer = $('#bag');\n    totalItems = $bagContainer.children('.product').length;\n    $shoppingBag.attr('data-quantity', totalItems);\n    $shoppingBag.find('.shopping-bag__quantity strong').text(totalItems);\n    finalPrice = 0;\n    $bagContainer.find('.product-info__price strong').each(function() {\n      var getItemPrice, itemPrice;\n      getItemPrice = $(this).text().substring(1);\n      itemPrice = parseFloat(getItemPrice.split(','), 10);\n      return finalPrice += itemPrice;\n    });\n    console.log('finalPrice', finalPrice);\n    $shoppingBag.attr('data-price', finalPrice);\n    $shoppingBag.find('.shopping-bag__totalprice strong').text('Â£ ' + finalPrice);\n  };\n\n  Starter.prototype.setupLayout = function() {\n    console.log('setupLayout');\n  };\n\n  Starter.prototype.setupEvents = function() {\n    $('.button-bag').on('click', this.addToBasket);\n  };\n\n  Starter.prototype.addToBasket = function() {\n    var $bagContainer, $listContainer, $this, $thisProduct;\n    $this = $(this);\n    $thisProduct = $this.parent();\n    $bagContainer = $('#bag');\n    $listContainer = $('#list');\n    if ($('#bag .product').length - 1 === 0) {\n      $bagContainer.append('<p class=\"message\">' + $bagContainer.data('empty') + '</p>');\n    } else {\n      $bagContainer.children('p').remove();\n    }\n    if (!$(this).hasClass('add-basket')) {\n      $(this).addClass('add-basket').text($this.data('remove'));\n      $thisProduct.appendTo($bagContainer);\n    } else {\n      $(this).removeClass('add-basket').text($this.data('add'));\n      $thisProduct.appendTo($listContainer);\n    }\n    Starter.updateBag();\n  };\n\n  return Starter;\n\n})();\n\n(function($) {\n  'use strict';\n  return $(function() {\n    var starter;\n    starter = new Starter();\n    return starter.init();\n  });\n})(jQuery);\n"]}